"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class EmulatorApiClient {
    static async emulateOAuthCards(credentials, emulatorUrl, emulate) {
        let token = await credentials.getToken();
        let requestUrl = emulatorUrl + (emulatorUrl.endsWith('/') ? '' : '/') + `api/usertoken/emulateOAuthCards?emulate=${(!!emulate).toString()}`;
        const res = await fetch(requestUrl, {
            method: 'POST',
            headers: {
                Authorization: `Bearer ${token}`
            }
        });
        if (res.ok) {
            return true;
        }
        else {
            throw new Error(`EmulateOAuthCards failed with status code: ${res.status}`);
        }
    }
}
exports.EmulatorApiClient = EmulatorApiClient;
//# sourceMappingURL=emulatorApiClient.js.map